schema: '2.0'
stages:
  resample data:
    cmd: python src/Resampling.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/Resampling.py
      md5: 32976ab67ba2f1da242f5d74cebf2a5d
      size: 3987
    params:
      params.yaml:
        resample_data.param: 1
        resample_data.percentage: 1
    outs:
    - path: balanced-data.csv
      md5: e45ec1f0d43b72a6c975d1f9cde22391
      size: 534080
    - path: results/after_resampling/Corr_matrices_comp.png
      md5: 2f2ea71bba99f53270d536b392f6664e
      size: 170046
    - path: results/after_resampling/Distrib_after_undersampling.png
      md5: 5284a6185952e971a1ebd32c75dbfb7b
      size: 44701
    - path: results/after_resampling/NFvsF_after_undersampling.json
      md5: fcbc4e2625bbeecefd953b254e05f90b
      size: 35
  understand data:
    cmd: python src/data_understanding.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/data_understanding.py
      md5: 2dc44a62e57d1ac02c662a45925f71be
      size: 1636
    outs:
    - path: results/before_resampling/Count_before_undersampling.png
      md5: 34238b3ce21d197cb7e71983b8511699
      size: 23368
    - path: results/before_resampling/NFvsF_before_undersampling.json
      md5: 640cfb76f2deb8e77b2a4b76f1e90eff
      size: 38
    - path: results/before_resampling/distrib_before_undersampling.png
      md5: ac339318b7ee4307b07c396a598d09de
      size: 34123
  splitting data:
    cmd: python src/prepare.py
    deps:
    - path: balanced-data.csv
      md5: e45ec1f0d43b72a6c975d1f9cde22391
      size: 534080
    - path: src/prepare.py
      md5: 01735dbbf6caae3a3af30913f097d741
      size: 957
    params:
      params.yaml:
        splitting_data.split-param: 0.2
    outs:
    - path: results/splited_data/test_features.csv
      md5: 85df82da7aa857801b50c1e1effdb90b
      size: 103951
    - path: results/splited_data/test_labels.csv
      md5: c4fd7452c74969c8c3443fddcd12a3be
      size: 598
    - path: results/splited_data/train_features.csv
      md5: 77aea754a6a8e540a9cc351e28144ad3
      size: 414519
    - path: results/splited_data/train_labels.csv
      md5: aa2dd34964d170cc11b0b4bfadaaa8fc
      size: 2368
  train model:
    cmd: python src/train.py
    deps:
    - path: results/splited_data/train_features.csv
      md5: 77aea754a6a8e540a9cc351e28144ad3
      size: 414519
    - path: results/splited_data/train_labels.csv
      md5: aa2dd34964d170cc11b0b4bfadaaa8fc
      size: 2368
    - path: src/train.py
      md5: 8e9632d80b58af7afd88b7e1eb1924e3
      size: 1424
    outs:
    - path: results/finalvar.pkl
      md5: c3caf7ff53b62e603414c2a2d362dfda
      size: 66
    - path: results/logit.pkl
      md5: 28fe40384ee5fad1dc0ed39cd830ccbf
      size: 149979
    - path: results/model_summary.txt
      md5: b8b3c864127afa6b4b3819186cc2e338
      size: 2053
  test model:
    cmd: python src/test.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: results/finalvar.pkl
      md5: c3caf7ff53b62e603414c2a2d362dfda
      size: 66
    - path: results/logit.pkl
      md5: 28fe40384ee5fad1dc0ed39cd830ccbf
      size: 149979
    - path: results/splited_data/test_features.csv
      md5: 85df82da7aa857801b50c1e1effdb90b
      size: 103951
    - path: results/splited_data/test_labels.csv
      md5: c4fd7452c74969c8c3443fddcd12a3be
      size: 598
    - path: src/test.py
      md5: df273287ff915d0aa6dc94ab6a4a27c2
      size: 2614
    outs:
    - path: results/OnNewSample_classification_report.txt
      md5: 5269ce880ce0f3dc039a98c652607273
      size: 334
    - path: results/Whole_data-set_classification_report.txt
      md5: 64ec3f7ce5a51c0b3e5436fad15edb06
      size: 334
    - path: results/accuracy(newsample).json
      md5: 9aaf024022307377396f3a82979374bd
      size: 38
    - path: results/accuracy(whole_data-set).json
      md5: c77a67f93412c2e2a725889a13d3fadf
      size: 38
    - path: results/confusion-matrix(newsample).png
      md5: 8ca6297f756f8edad9a13157aee71e59
      size: 20764
    - path: results/confusion-matrix(whole_data-set).png
      md5: 896d2a564771a14062f52b5749063560
      size: 26181
