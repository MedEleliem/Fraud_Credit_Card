schema: '2.0'
stages:
  resample data:
    cmd: python src/Resampling.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    params:
      params.yaml:
        resample_data.param: 1
        resample_data.percentage: 1
    outs:
    - path: balanced-data.csv
      md5: 9ca6e2a41be34c1a1e76d1234fdfa89a
      size: 534058
    - path: results/after_resampling/Corr_matrices_comp.png
      md5: 434443fc86b14fe1735d483047d624b4
      size: 170092
    - path: results/after_resampling/Distrib_after_undersampling.png
      md5: 5284a6185952e971a1ebd32c75dbfb7b
      size: 44701
    - path: results/after_resampling/NFvsF_after_undersampling.json
      md5: fcbc4e2625bbeecefd953b254e05f90b
      size: 35
  splitting data:
    cmd: python src/prepare.py
    deps:
    - path: balanced-data.csv
      md5: 9ca6e2a41be34c1a1e76d1234fdfa89a
      size: 534058
    - path: src/prepare.py
      md5: 01735dbbf6caae3a3af30913f097d741
      size: 957
    params:
      params.yaml:
        splitting_data.split-param: 0.2
    outs:
    - path: results/splited_data/test_features.csv
      md5: 5a3d8b138a6beeb40c4f5c8312f1d4c9
      size: 103823
    - path: results/splited_data/test_labels.csv
      md5: fbdbc3b3000bb1f2df76c5bac2a9e8c7
      size: 598
    - path: results/splited_data/train_features.csv
      md5: f6e1bd06f8038e4b55ee2e79a63493a7
      size: 414670
    - path: results/splited_data/train_labels.csv
      md5: 80844b01568ac0539f65811eb525d30a
      size: 2368
  understand data:
    cmd: python src/data_understanding.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/data_understanding.py
      md5: 2dc44a62e57d1ac02c662a45925f71be
      size: 1636
    outs:
    - path: results/before_resampling/Count_before_undersampling.png
      md5: 34238b3ce21d197cb7e71983b8511699
      size: 23368
    - path: results/before_resampling/NFvsF_before_undersampling.json
      md5: 640cfb76f2deb8e77b2a4b76f1e90eff
      size: 38
    - path: results/before_resampling/distrib_before_undersampling.png
      md5: ac339318b7ee4307b07c396a598d09de
      size: 34123
  train model:
    cmd: python src/train.py
    deps:
    - path: results/splited_data/train_features.csv
      md5: f6e1bd06f8038e4b55ee2e79a63493a7
      size: 414670
    - path: results/splited_data/train_labels.csv
      md5: 80844b01568ac0539f65811eb525d30a
      size: 2368
    - path: src/train.py
      md5: 8e9632d80b58af7afd88b7e1eb1924e3
      size: 1424
    outs:
    - path: results/model_summary.txt
      md5: 9c6aba09bab63b676a4bdfc7fe1d6cb4
      size: 1973
  test model:
    cmd: python src/test.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: results/splited_data/test_features.csv
      md5: 5a3d8b138a6beeb40c4f5c8312f1d4c9
      size: 103823
    - path: results/splited_data/test_labels.csv
      md5: fbdbc3b3000bb1f2df76c5bac2a9e8c7
      size: 598
    - path: src/test.py
      md5: df273287ff915d0aa6dc94ab6a4a27c2
      size: 2614
    outs:
    - path: results/OnNewSample_classification_report.txt
      md5: b07a8bbd68449156024bce7dad6cd526
      size: 334
    - path: results/Whole_data-set_classification_report.txt
      md5: e84e954999a4f752ada53b05dc19cbe3
      size: 334
    - path: results/accuracy(newsample).json
      md5: fdf753eaed97506b69eb761ac0a70190
      size: 37
    - path: results/accuracy(whole_data-set).json
      md5: b99fbafb799181681688235b2407528d
      size: 38
