schema: '2.0'
stages:
  resample data:
    cmd: python src/Resampling.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/Resampling.py
      md5: 32976ab67ba2f1da242f5d74cebf2a5d
      size: 3987
    params:
      params.yaml:
        resample_data.param: 1
        resample_data.percentage: 1
    outs:
    - path: balanced-data.csv
      md5: 6d2b517e7e4233eca2c8e6846ca5228b
      size: 534177
    - path: results/after_resampling/Corr_matrices_comp.png
      md5: 4b0fe26ca33850f7a39d71da2f8ea287
      size: 169970
    - path: results/after_resampling/Distrib_after_undersampling.png
      md5: 5284a6185952e971a1ebd32c75dbfb7b
      size: 44701
    - path: results/after_resampling/NFvsF_after_undersampling.json
      md5: fcbc4e2625bbeecefd953b254e05f90b
      size: 35
  splitting data:
    cmd: python src/prepare.py
    deps:
    - path: balanced-data.csv
      md5: 6d2b517e7e4233eca2c8e6846ca5228b
      size: 534177
    - path: src/prepare.py
      md5: 01735dbbf6caae3a3af30913f097d741
      size: 957
    params:
      params.yaml:
        splitting_data.split-param: 0.2
    outs:
    - path: results/splited_data/test_features.csv
      md5: 59f1228f8049cba9166e8c35a8cd88d4
      size: 103900
    - path: results/splited_data/test_labels.csv
      md5: 7c73af1c12bea909348d0855e1952f0b
      size: 598
    - path: results/splited_data/train_features.csv
      md5: e670b6117cf62a0d1418af0e81d7c31d
      size: 414692
    - path: results/splited_data/train_labels.csv
      md5: ac3f59ff3e3a7057b23e7035c11f1a31
      size: 2368
  train model:
    cmd: python src/train.py
    deps:
    - path: results/splited_data/train_features.csv
      md5: e670b6117cf62a0d1418af0e81d7c31d
      size: 414692
    - path: results/splited_data/train_labels.csv
      md5: ac3f59ff3e3a7057b23e7035c11f1a31
      size: 2368
    - path: src/train.py
      md5: 26393627cb012cc84e9be812546d6b09
      size: 1426
    outs:
    - path: results/finalvar.pkl
      md5: 04d094090d565010302ebc0866b306e8
      size: 61
    - path: results/logit.pkl
      md5: ccb98b44b82ceae50cfe49e433ed59ac
      size: 137032
  test model:
    cmd: python src/test.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: results/finalvar.pkl
      md5: 04d094090d565010302ebc0866b306e8
      size: 61
    - path: results/logit.pkl
      md5: ccb98b44b82ceae50cfe49e433ed59ac
      size: 137032
    - path: results/splited_data/test_features.csv
      md5: 59f1228f8049cba9166e8c35a8cd88d4
      size: 103900
    - path: results/splited_data/test_labels.csv
      md5: 7c73af1c12bea909348d0855e1952f0b
      size: 598
    - path: src/test.py
      md5: df273287ff915d0aa6dc94ab6a4a27c2
      size: 2614
    outs:
    - path: results/OnNewSample_classification_report.txt
      md5: 7dd4b30263f4282cc79bbe44c2817cdb
      size: 334
    - path: results/Whole_data-set_classification_report.txt
      md5: d92c3fd571d97eee4737d5decf916af2
      size: 334
    - path: results/accuracy(newsample).json
      md5: 9aaf024022307377396f3a82979374bd
      size: 38
    - path: results/accuracy(whole_data-set).json
      md5: b99fe54caf76a8bef1ff92c7e01cafbf
      size: 38
    - path: results/confusion-matrix(newsample).png
      md5: 8bbd9103f2e1a7aeb47c8090a3d23fa4
      size: 15072
    - path: results/confusion-matrix(whole_data-set).png
      md5: 87578b686962807ccfd63a9b4f12dcd7
      size: 27844
  understand data:
    cmd: python src/data_understanding.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/data_understanding.py
      md5: 2dc44a62e57d1ac02c662a45925f71be
      size: 1636
    outs:
    - path: results/before_resampling/Count_before_undersampling.png
      md5: 34238b3ce21d197cb7e71983b8511699
      size: 23368
    - path: results/before_resampling/NFvsF_before_undersampling.json
      md5: 640cfb76f2deb8e77b2a4b76f1e90eff
      size: 38
    - path: results/before_resampling/distrib_before_undersampling.png
      md5: ac339318b7ee4307b07c396a598d09de
      size: 34123
