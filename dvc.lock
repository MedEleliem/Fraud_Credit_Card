schema: '2.0'
stages:
  resample data:
    cmd: python src/Resampling.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/Resampling.py
      md5: 32976ab67ba2f1da242f5d74cebf2a5d
      size: 3987
    params:
      params.yaml:
        resample_data.param: 1
        resample_data.percentage: 0.3
    outs:
    - path: balanced-data.csv
      md5: fddfd07d7230be227314695cdcfff85d
      size: 1163814
    - path: results/after_resampling/Corr_matrices_comp.png
      md5: 67fec996ed382cbc2448cfd31958cbc7
      size: 170269
    - path: results/after_resampling/Distrib_after_undersampling.png
      md5: becae8251552559472c53e52c15f26d1
      size: 35211
    - path: results/after_resampling/NFvsF_after_undersampling.json
      md5: 4016d156dc274aa536f14660ccf92df1
      size: 36
  splitting data:
    cmd: python src/prepare.py
    deps:
    - path: balanced-data.csv
      md5: fddfd07d7230be227314695cdcfff85d
      size: 1163814
    - path: src/prepare.py
      md5: 01735dbbf6caae3a3af30913f097d741
      size: 957
    params:
      params.yaml:
        splitting_data.split-param: 0.2
    outs:
    - path: results/splited_data/test_features.csv
      md5: 16eba9e0692f2c467be84dfa78fc0bf7
      size: 226224
    - path: results/splited_data/test_labels.csv
      md5: 1b95dcdc0229ebba23066e514bd29559
      size: 1288
    - path: results/splited_data/train_features.csv
      md5: fd40372feb7fc12caceaab08280b6963
      size: 903077
    - path: results/splited_data/train_labels.csv
      md5: cdc360e9e641820b72119427bf72ce2f
      size: 5122
  train model:
    cmd: python src/train.py
    deps:
    - path: results/splited_data/train_features.csv
      md5: fd40372feb7fc12caceaab08280b6963
      size: 903077
    - path: results/splited_data/train_labels.csv
      md5: cdc360e9e641820b72119427bf72ce2f
      size: 5122
    - path: src/train.py
      md5: 8e9632d80b58af7afd88b7e1eb1924e3
      size: 1424
    outs:
    - path: results/finalvar.pkl
      md5: 9ad590a479752a76d8a2ac30f7b92ba7
      size: 80
    - path: results/logit.pkl
      md5: b5cd11c682a5c881159f71a03241ffb0
      size: 374261
    - path: results/model_summary.txt
      md5: a01f30b145b11510385da45e01f42751
      size: 2213
  test model:
    cmd: python src/test.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: results/finalvar.pkl
      md5: 9ad590a479752a76d8a2ac30f7b92ba7
      size: 80
    - path: results/logit.pkl
      md5: b5cd11c682a5c881159f71a03241ffb0
      size: 374261
    - path: results/splited_data/test_features.csv
      md5: 16eba9e0692f2c467be84dfa78fc0bf7
      size: 226224
    - path: results/splited_data/test_labels.csv
      md5: 1b95dcdc0229ebba23066e514bd29559
      size: 1288
    - path: src/test.py
      md5: df273287ff915d0aa6dc94ab6a4a27c2
      size: 2614
    outs:
    - path: results/OnNewSample_classification_report.txt
      md5: 621946b1d57a6385304ff2433d85ecc0
      size: 334
    - path: results/Whole_data-set_classification_report.txt
      md5: 811d1172baa2aa3342a7330a62295f14
      size: 334
    - path: results/accuracy(newsample).json
      md5: b3f73ca5d2d291362c480c4c7be77116
      size: 38
    - path: results/accuracy(whole_data-set).json
      md5: 50a66df078999d08cff62a35ceaaae7c
      size: 38
    - path: results/confusion-matrix(newsample).png
      md5: 5ce3f8e05ad62a457a2f567f6dbf1d96
      size: 20946
    - path: results/confusion-matrix(whole_data-set).png
      md5: 7f669e382f33a0662396786d33aa5aaf
      size: 28628
  understand data:
    cmd: python src/data_understanding.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/data_understanding.py
      md5: 2dc44a62e57d1ac02c662a45925f71be
      size: 1636
    outs:
    - path: results/before_resampling/Count_before_undersampling.png
      md5: 34238b3ce21d197cb7e71983b8511699
      size: 23368
    - path: results/before_resampling/NFvsF_before_undersampling.json
      md5: 640cfb76f2deb8e77b2a4b76f1e90eff
      size: 38
    - path: results/before_resampling/distrib_before_undersampling.png
      md5: ac339318b7ee4307b07c396a598d09de
      size: 34123
