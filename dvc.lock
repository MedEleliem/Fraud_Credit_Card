schema: '2.0'
stages:
  understand data:
    cmd: python src/data_understanding.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/data_understanding.py
      md5: 2dc44a62e57d1ac02c662a45925f71be
      size: 1636
    outs:
    - path: results/before_resampling/Count_before_undersampling.png
      md5: 34238b3ce21d197cb7e71983b8511699
      size: 23368
    - path: results/before_resampling/NFvsF_before_undersampling.json
      md5: 640cfb76f2deb8e77b2a4b76f1e90eff
      size: 38
    - path: results/before_resampling/distrib_before_undersampling.png
      md5: ac339318b7ee4307b07c396a598d09de
      size: 34123
  resample data:
    cmd: python src/Resampling.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/Resampling.py
      md5: 32976ab67ba2f1da242f5d74cebf2a5d
      size: 3987
    params:
      params.yaml:
        resample_data.param: 1
        resample_data.percentage: 0.3
    outs:
    - path: balanced-data.csv
      md5: 3b4cee6cc357ca57bf3f65390434bf22
      size: 1163521
    - path: results/after_resampling/Corr_matrices_comp.png
      md5: 6b739d193fb853209225cc11bbfaacd9
      size: 170422
    - path: results/after_resampling/Distrib_after_undersampling.png
      md5: becae8251552559472c53e52c15f26d1
      size: 35211
    - path: results/after_resampling/NFvsF_after_undersampling.json
      md5: 4016d156dc274aa536f14660ccf92df1
      size: 36
  splitting data:
    cmd: python src/prepare.py
    deps:
    - path: balanced-data.csv
      md5: 3b4cee6cc357ca57bf3f65390434bf22
      size: 1163521
    - path: src/prepare.py
      md5: 01735dbbf6caae3a3af30913f097d741
      size: 957
    params:
      params.yaml:
        splitting_data.split-param: 0.2
    outs:
    - path: results/splited_data/test_features.csv
      md5: 49c719d62f86befe43a204c6b8348893
      size: 226043
    - path: results/splited_data/test_labels.csv
      md5: d9baf49101ba519d07c04b767c230f93
      size: 1288
    - path: results/splited_data/train_features.csv
      md5: 76b46e77e10d3fc1ccee26f2f20f861c
      size: 902990
    - path: results/splited_data/train_labels.csv
      md5: 4f2a0f88bba0d7e30fd3829b9f80e935
      size: 5122
  train model:
    cmd: python src/train.py
    deps:
    - path: results/splited_data/train_features.csv
      md5: 76b46e77e10d3fc1ccee26f2f20f861c
      size: 902990
    - path: results/splited_data/train_labels.csv
      md5: 4f2a0f88bba0d7e30fd3829b9f80e935
      size: 5122
    - path: src/train.py
      md5: 8e9632d80b58af7afd88b7e1eb1924e3
      size: 1424
    outs:
    - path: results/finalvar.pkl
      md5: ead7940a3f36dbb2c51a20371a9dc5f9
      size: 61
    - path: results/logit.pkl
      md5: 84dd43a9f2a9968adfede27503092332
      size: 291256
    - path: results/model_summary.txt
      md5: 33c380dd7702cc1afe8ee72c2e0ce471
      size: 1973
  test model:
    cmd: python src/test.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: results/finalvar.pkl
      md5: ead7940a3f36dbb2c51a20371a9dc5f9
      size: 61
    - path: results/logit.pkl
      md5: 84dd43a9f2a9968adfede27503092332
      size: 291256
    - path: results/splited_data/test_features.csv
      md5: 49c719d62f86befe43a204c6b8348893
      size: 226043
    - path: results/splited_data/test_labels.csv
      md5: d9baf49101ba519d07c04b767c230f93
      size: 1288
    - path: src/test.py
      md5: df273287ff915d0aa6dc94ab6a4a27c2
      size: 2614
    outs:
    - path: results/OnNewSample_classification_report.txt
      md5: 900b17a55bf4bfb3433a76b99461004f
      size: 334
    - path: results/Whole_data-set_classification_report.txt
      md5: 0b96b2169647d49a2c16c670b030cb0c
      size: 334
    - path: results/accuracy(newsample).json
      md5: a27aa5e43274ca7db9fa093376bf3e1c
      size: 38
    - path: results/accuracy(whole_data-set).json
      md5: 471638fce640057c2dd94f79244b41e1
      size: 38
    - path: results/confusion-matrix(newsample).png
      md5: 5d5e998aba5af56aa9e8dfa4dc19e5d7
      size: 20939
    - path: results/confusion-matrix(whole_data-set).png
      md5: 96594c3b2d5b0c34b8965bc4d5deea04
      size: 28233
