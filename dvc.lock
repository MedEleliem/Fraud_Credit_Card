schema: '2.0'
stages:
  resample data:
    cmd: python src/Resampling.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    params:
      params.yaml:
        resample_data.param: 1
        resample_data.percentage: 1
    outs:
    - path: balanced-data.csv
      md5: c76b7d404d727c543adce4712e317de4
      size: 533965
    - path: results/after_resampling/NFvsF_after_undersampling.json
      md5: fcbc4e2625bbeecefd953b254e05f90b
      size: 35
  splitting data:
    cmd: python src/prepare.py
    deps:
    - path: balanced-data.csv
      md5: c76b7d404d727c543adce4712e317de4
      size: 533965
    - path: src/prepare.py
      md5: 01735dbbf6caae3a3af30913f097d741
      size: 957
    params:
      params.yaml:
        splitting_data.split-param: 0.2
    outs:
    - path: results/splited_data/test_features.csv
      md5: 9cc3b60923766e949d4059e325d71079
      size: 103773
    - path: results/splited_data/test_labels.csv
      md5: a070bd8f7e256e957ab07b59b2696ca9
      size: 598
    - path: results/splited_data/train_features.csv
      md5: da67aa70c65259cfa1c3b878f4707029
      size: 414406
    - path: results/splited_data/train_labels.csv
      md5: b6fb79a043cf42b6b25d4a8a01519155
      size: 2368
  train model:
    cmd: python src/train.py
    deps:
    - path: results/splited_data/train_features.csv
      md5: da67aa70c65259cfa1c3b878f4707029
      size: 414406
    - path: results/splited_data/train_labels.csv
      md5: b6fb79a043cf42b6b25d4a8a01519155
      size: 2368
    - path: src/train.py
      md5: 8e9632d80b58af7afd88b7e1eb1924e3
      size: 1424
    outs:
    - path: results/finalvar.pkl
      md5: f6bb25151d44b3a4f1f9c04e79cee206
      size: 67
    - path: results/logit.pkl
      md5: 84cffa78ca3ce83009a177a549f3ca8d
      size: 149980
    - path: results/model_summary.txt
      md5: 5365fcd8d6f942eb6d1cb58c03321538
      size: 2053
  test model:
    cmd: python src/test.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: results/finalvar.pkl
      md5: f6bb25151d44b3a4f1f9c04e79cee206
      size: 67
    - path: results/logit.pkl
      md5: 84cffa78ca3ce83009a177a549f3ca8d
      size: 149980
    - path: results/splited_data/test_features.csv
      md5: 9cc3b60923766e949d4059e325d71079
      size: 103773
    - path: results/splited_data/test_labels.csv
      md5: a070bd8f7e256e957ab07b59b2696ca9
      size: 598
    - path: src/test.py
      md5: df273287ff915d0aa6dc94ab6a4a27c2
      size: 2614
    outs:
    - path: results/OnNewSample_classification_report.txt
      md5: b8264f6aecb59d22e04b2d4c4824ca47
      size: 334
    - path: results/Whole_data-set_classification_report.txt
      md5: d92c3fd571d97eee4737d5decf916af2
      size: 334
    - path: results/accuracy(newsample).json
      md5: 868f80312ee5dd50b62aea762253e172
      size: 37
    - path: results/accuracy(whole_data-set).json
      md5: cb9470120dbf9fd7dea56c7bfcc85046
      size: 38
  understand data:
    cmd: python src/data_understanding.py
    deps:
    - path: creditcard.csv
      md5: e90efcb83d69faf99fcab8b0255024de
      size: 150828752
    - path: src/data_understanding.py
      md5: 2dc44a62e57d1ac02c662a45925f71be
      size: 1636
    outs:
    - path: results/before_resampling/NFvsF_before_undersampling.json
      md5: 640cfb76f2deb8e77b2a4b76f1e90eff
      size: 38
